{
id: "shaders_",

properties: {
	lights_on: "[
        set(level.frame_buffer_shaders, []),
        set(shader, do_nothing)
    ]",
    lights_out: "lights_off",   // An alias
    lights_off: "[
        set(level.frame_buffer_shaders, [
            {
                begin_zorder: background,
                end_zorder: -2, // Don't effect some gfx
                shader_info: {name: 'blindfold'}
            },
            {
                begin_zorder: 2,    // Still, don't effect some gfx
                end_zorder: blindfold,
                shader_info: {name: 'blindfold'}
            },
        ])   where background = -1000000    // See zorder.cfg
                where blindfold = 20,       // TODO: Make this reference zorder.cfg
        set(shader, silhouette)
	]",

    is_blind: "bool :: if(level.frame_buffer_shaders = [], false, true)",

	
	// Shaders (Apperently the ones from shaders.cfg don't work?)
	silhouette: "{name: 'silhouette',
        vertex: '
            uniform mat4 u_anura_mvp_matrix;
            attribute vec4 a_anura_vertex;
            attribute vec2 a_anura_texcoord;
            varying vec2 v_texcoord;
            void main() {
                gl_Position = u_anura_mvp_matrix * a_anura_vertex;
                v_texcoord = a_anura_texcoord;
            }
        ',

        fragment: '
            uniform sampler2D u_tex_map;
         varying vec2 v_texcoord;
          void main() {
              vec4 pixel_colour = texture2D(u_tex_map, v_texcoord); //[r,g,b,a], 0..1

                pixel_colour[0] = 0.2
              pixel_colour[1] = 0.2; //Set the blue and green channels to 0, leaving only red and alpha to show.
             pixel_colour[2] = 0.2;

               gl_FragColor = pixel_colour;
           }
        ',
    }",

	do_nothing: "{name: 'do_nothing',
        vertex: '
            uniform mat4 u_anura_mvp_matrix;
            attribute vec4 a_anura_vertex;
            attribute vec2 a_anura_texcoord;
            varying vec2 v_texcoord;
            void main() {
                gl_Position = u_anura_mvp_matrix * a_anura_vertex;
                v_texcoord = a_anura_texcoord;
            }
        ',

        fragment: '
           uniform sampler2D u_tex_map;
            varying vec2 v_texcoord;
           void main() {
              gl_FragColor = texture2D(u_tex_map, v_texcoord);
         }
        ',
    }",

} // End of properties

} // End of file
